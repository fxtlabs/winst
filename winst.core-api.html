<html>
  <head>
    <title>winst.core API reference (Winst)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Winst</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="winst.core-api.html" class="wiki_link">winst.core</a></li><li><a href="winst.currency-api.html" class="wiki_link">winst.currency</a></li><li><a href="winst.dsl-api.html" class="wiki_link">winst.dsl</a></li><li><a href="winst.handlers-api.html" class="wiki_link">winst.handlers</a></li><li><a href="winst.presentation-api.html" class="wiki_link">winst.presentation</a></li><li><a href="winst.routes-api.html" class="wiki_link">winst.routes</a></li><li><a href="winst.securities-api.html" class="wiki_link">winst.securities</a></li><li><a href="winst.utils-api.html" class="wiki_link">winst.utils</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/apply-activity">apply-activity</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/compute-holdings">compute-holdings</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/compute-holdings-seq">compute-holdings-seq</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/compute-realized-gains">compute-realized-gains</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/convert-activities">convert-activities</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/convert-activity">convert-activity</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/dated-before?">dated-before?</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/dated-within?">dated-within?</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/merge-by-date">merge-by-date</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#winst.core/sort-by-date">sort-by-date</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">winst.core</span></h1>
by <span id="author">Filippo Tampieri &lt;fxt@fxtlabs.com&gt;</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">winst.core</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">The engine that processes trading activities to compute resulting
holdings and realized gains/losses.</pre>
<br />
<h2>Public Variables and Functions</h2>
<div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/apply-activity">apply-activity</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">Usage: (apply-activity holdings activity)
</pre>
  <pre id="var-docstr">Applies a trading activity to a given holdings and returns the updated
holdings.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/compute-holdings">compute-holdings</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-holdings as)
       (compute-holdings initial-holdings as)
</pre>
  <pre id="var-docstr">Returns the final state of the holdings after applying the given
sequence of trading activities.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/compute-holdings-seq">compute-holdings-seq</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-holdings-seq as)
       (compute-holdings-seq initial-holdings as)
</pre>
  <pre id="var-docstr">Returns a sequence of all the intermediate states of the holdings
after applying the given sequence of trading activities. The first
item in the result is the state of the holdings immediately prior to
the application of any of the given activities.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/compute-realized-gains">compute-realized-gains</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-realized-gains as)
       (compute-realized-gains initial-holdings as)
</pre>
  <pre id="var-docstr">Returns a sequence of the realized gains resulting from the application
of the given trading activities to the given initial holdings.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/convert-activities">convert-activities</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (convert-activities exchange-rate-lookup activities)
</pre>
  <pre id="var-docstr">Converts a sequence of activities using the given exchange rate
lookup function.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/convert-activity">convert-activity</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (convert-activity exchange-rate-lookup activity)
</pre>
  <pre id="var-docstr">Converts an activity using the given exchange rate lookup function.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/dated-before?">dated-before?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (dated-before? dt x)
</pre>
  <pre id="var-docstr">True if the given item dates before the specified time.
The item must be a map with a :date key.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/dated-within?">dated-within?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (dated-within? interval x)
</pre>
  <pre id="var-docstr">True if the given item dates within the specified time interval.
The item must be a map with a :date key.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/merge-by-date">merge-by-date</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Concatenates the given sequences of items and returns them
as a single, chronologically-sorted, sequence.
The items must be maps with a :date key.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="winst.core/sort-by-date">sort-by-date</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sort-by-date as)
</pre>
  <pre id="var-docstr">Sorts the given items in chronological order.
The items must be maps with a :date key.</pre>
  
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright 2011 Filippo Tampieri</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>